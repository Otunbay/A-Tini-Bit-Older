<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>She‚Äôs a Tini Bit Older üéÇ‚ú®</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<style>
  :root{ --gold:#F5C451; --rose:#F7B2D9; --ink:#111113; --glass:rgba(61,50,50,0.893);}
  body{ font-family:'Inter',sans-serif;}
  .fancy{ font-family:'Great Vibes',cursive;}
  .glass{ backdrop-filter:blur(12px); background:linear-gradient(180deg,rgba(247,139,24,0.616),rgba(213,106,215,0.214)); border:1px solid rgba(207,77,240,0.43);}
  .photo-buttons{ position:absolute; top:8px; right:8px; display:flex; flex-direction:column; gap:6px;}
  .deleteBtn{ background:rgba(220,50,50,0.9); color:white; border:none; border-radius:50%; width:28px; height:28px; cursor:pointer;}
  .downloadBtn{ background:linear-gradient(to right,var(--rose),var(--gold)); color:var(--ink); font-size:0.75rem; font-weight:600; padding:4px 8px; border-radius:12px;}
  #photoGrid img{ height:32vw; object-fit:cover;}
</style>
</head>
<body class="min-h-screen bg-[radial-gradient(1500px_800px_at_10%_-10%,#2b193f_0%,#141018_40%,#0A0A0C_100%)] text-white">

<header class="sticky top-0 z-40">
  <nav class="glass px-4 py-3 flex items-center justify-between">
    <a href="index.html" class="flex items-center gap-3">
      <span class="text-2xl fancy text-[var(--gold)]">Her Day</span>
      <span class="hidden md:block text-xs tracking-widest uppercase text-white/70">She‚Äôs a Tini Bit Older</span>
    </a>
    <ul class="flex gap-6 text-white/80 text-sm">
      <li><a href="#gallery" class="hover:text-[var(--gold)]">Photos</a></li>
      <li><button id="musicBtn" class="px-3 py-1.5 bg-white/10 rounded-full">‚ô™ Music</button></li>
    </ul>
  </nav>
</header>

<section id="gallery" class="py-16">
  <div class="max-w-6xl mx-auto px-4">
    <div class="mb-10 flex flex-col sm:flex-row justify-between gap-4">
      <div>
        <h2 class="text-4xl font-extrabold">Photos & Memories <span class="text-[var(--rose)]">üì∏</span></h2>
        <p class="text-white/70 mt-2">Click to enlarge. Download or delete photos.</p>
      </div>
      <label class="cursor-pointer px-3 py-2 rounded-xl bg-gradient-to-r from-[var(--rose)] to-[var(--gold)] text-ink font-semibold">
        Upload Photos
        <input id="photoInput" type="file" accept="image/*" multiple class="hidden" />
      </label>
    </div>
    <div id="photoGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"></div>
  </div>
</section>

<footer class="py-12 text-center text-white/60">
  <p>Built with love for <span class="fancy text-[var(--rose)]">Her</span> ‚Äî shining brighter than ever ‚ú®</p>
</footer>

<audio id="music" loop>
  <source src="Ed_Sheeran_-_-_Thinking_Out_Loud.mp3" type="audio/mpeg" />
</audio>

<!-- Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
  import { getStorage, ref, uploadBytes, getDownloadURL, deleteObject } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-storage.js";
  import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

  // ‚ö° Replace with your Firebase config
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT.appspot.com",
    messagingSenderId: "XXXX",
    appId: "XXXX"
  };

  const app = initializeApp(firebaseConfig);
  const storage = getStorage(app);
  const db = getFirestore(app);

  const photoInput = document.getElementById("photoInput");
  const photoGrid = document.getElementById("photoGrid");

  // === Upload ===
  photoInput.addEventListener("change", async (e) => {
    for (const file of e.target.files) {
      const fileName = Date.now() + "-" + file.name;
      const storageRef = ref(storage, "photos/" + fileName);
      await uploadBytes(storageRef, file);
      const url = await getDownloadURL(storageRef);
      await addDoc(collection(db, "photos"), { url, name:fileName, created: Date.now() });
    }
    loadPhotos();
  });

  // === Load ===
  async function loadPhotos() {
    photoGrid.innerHTML = "";
    const snap = await getDocs(collection(db, "photos"));
    snap.forEach((docSnap) => {
      const p = docSnap.data();
      photoGrid.innerHTML += `
        <figure class="group relative rounded-2xl overflow-hidden glass">
          <img src="${p.url}" alt="photo" class="w-full cursor-pointer" />
          <div class="photo-buttons">
            <button onclick="deletePhoto('${docSnap.id}','${p.name}')" class="deleteBtn">‚úï</button>
            <a href="${p.url}" download class="downloadBtn">Download</a>
          </div>
        </figure>`;
    });
  }
  loadPhotos();

  // === Delete ===
  window.deletePhoto = async function(id,name) {
    if(confirm("Delete this photo?")) {
      await deleteDoc(doc(db, "photos", id));
      const storageRef = ref(storage,"photos/"+name);
      await deleteObject(storageRef).catch(()=>{});
      loadPhotos();
    }
  }

  // === Music Toggle ===
  const music = document.getElementById("music");
  const musicBtn = document.getElementById("musicBtn");
  let playing = false;
  musicBtn.addEventListener("click", async ()=>{
    if(!playing){ await music.play(); playing=true; musicBtn.textContent="‚ùö‚ùö Pause"; }
    else { music.pause(); playing=false; musicBtn.textContent="‚ô™ Music"; }
  });
</script>
</body>
</html>
