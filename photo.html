<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>She‚Äôs a Tini Bit Older üéÇ‚ú®</title>
<meta name="description" content="Fancy birthday website with wishes, photo gallery, downloads, menu, countdown, music, confetti, and playful theme." />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<style>
  :root{
    --gold: #F5C451;
    --rose: #F7B2D9;
    --ink: #111113;
    --glass: rgba(61, 50, 50, 0.893);
  }
  html, body { scroll-behavior: smooth; }
  body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif; }
  .fancy { font-family: 'Great Vibes', cursive; }

  .glass { backdrop-filter: blur(12px); background: linear-gradient(180deg, rgba(247, 139, 24, 0.616), rgba(213, 106, 215, 0.214)); border: 1px solid rgba(207, 77, 240, 0.43); }

  .sparkle { position: fixed; width: 8px; height: 8px; pointer-events: none; border-radius: 9999px; box-shadow: 0 0 10px var(--gold), 0 0 20px var(--gold); opacity: .9; }

  .balloon{ position: absolute; bottom: -10vh; animation: rise 14s linear infinite; filter: drop-shadow(0 8px 18px rgba(28, 24, 27, 0.108)); }
  @keyframes rise { from{ transform: translateY(0) translateX(0);} to{ transform: translateY(-120vh) translateX(15px);} }

  .lightbox-open { overflow: hidden; }
  .fade-in { animation: fade .5s ease both; }
  @keyframes fade { from{ opacity:0; transform: scale(.98);} to{ opacity:1; transform: scale(1);} }

  .photo-buttons { position: absolute; top: 8px; right: 8px; display: flex; flex-direction: column; gap: 6px; z-index: 10; }

  .deleteBtn { background: rgba(220,50,50,0.9); color: white; border: none; border-radius: 50%; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; font-size: 14px; cursor: pointer; transition: background 0.2s; }
  .deleteBtn:hover { background: rgba(200,0,0,1); }

  .downloadBtn { background: linear-gradient(to right, var(--rose), var(--gold)); color: var(--ink); text-decoration: none; font-size: 0.75rem; font-weight: 600; padding: 4px 8px; border-radius: 12px; text-align: center; transition: opacity 0.2s; }
  .downloadBtn:hover { opacity: 0.85; }

  #photoGrid img { height: 32vw; object-fit: cover; }
  #lightboxImg { max-width: 90vw; max-height: 80vh; }
  #navLinks { width: 90vw; right: 5vw; }
</style>
</head>
<body class="min-h-screen bg-[radial-gradient(1500px_800px_at_10%_-10%,#2b193f_0%,#141018_40%,#0A0A0C_100%)] text-white relative">

<canvas id="confetti" class="fixed inset-0 pointer-events-none z-50"></canvas>
<div id="sparkles" class="fixed inset-0 pointer-events-none z-50"></div>
<div id="balloons" class="pointer-events-none fixed inset-0 -z-0"></div>

<header class="sticky top-0 z-40">
  <nav class="glass bg-white/5 backdrop-blur px-4 md:px-8 py-3 flex items-center justify-between">
    
       <!-- Logo -->
    <a href="index.html" class="flex items-center gap-3">
      <span class="text-2xl fancy text-[var(--gold)]">Her Day</span>
      <span class="hidden md:block text-xs tracking-widest uppercase text-white/70">She‚Äôs a Tini Bit Older</span>
    </a>
    <!-- Hamburger (mobile only) -->
    <span class="hamburger md:hidden text-[var(--gold)] text-3xl cursor-pointer" onclick="toggleMenu()">‚ò∞</span>
    <!-- Links -->
    <ul id="navLinks" class="hidden md:flex flex-col md:flex-row md:items-center gap-6 text-white/80 text-sm absolute md:static top-[60px] right-4 md:top-auto md:right-auto bg-[var(--glass)] md:bg-transparent rounded-lg md:rounded-none p-5 md:p-0 w-48 md:w-auto">
      <li><a href="wishes.html" class="block py-2 hover:text-[var(--gold)]">Wish</a></li>
      <li><a href="photo.html" class="block py-2 hover:text-[var(--gold)]">Photos</a></li>
      <li><a href="menu.html" class="block py-2 hover:text-[var(--gold)]">Menu</a></li>
      <li> <button id="musicBt" class="rounded-full px-3 py-1.5 bg-white/10 hover:bg-white/20 transition">‚ô™ Music</button></li>
      </ul>
  </nav>
</header>

<section id="gallery" class="py-16 md:py-24">
  <div class="max-w-6xl mx-auto px-4 md:px-8">
    <div class="mb-10 flex flex-col sm:flex-row items-start sm:items-end justify-between gap-4 flex-wrap">
      <div>
        <h2 class="text-4xl md:text-5xl font-extrabold">Photos & Memories <span class="text-[var(--rose)]">üì∏</span></h2>
        <p class="text-white/70 mt-2">Click to enlarge. Download or delete photos.</p>
      </div>
      <div class="glass rounded-2xl p-3 flex flex-col sm:flex-row items-stretch gap-2 w-full sm:w-auto">
        <input id="adminPin" type="password" placeholder="Admin PIN to upload" class="rounded-xl bg-white/10 px-3 py-2 text-sm w-full sm:w-auto">
        <button id="unlockBtn" class="text-sm px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20 w-full sm:w-auto">Unlock</button>
        <label id="uploadWrap" class="hidden cursor-pointer text-sm px-3 py-2 rounded-xl bg-gradient-to-r from-[var(--rose)] to-[var(--gold)] text-ink font-semibold w-full sm:w-auto">Upload Photos
          <input id="photoInput" type="file" accept="image/*" multiple class="hidden" />
        </label>
      </div>
    </div>
    <div id="photoGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 md:gap-4"></div>
  </div>
</section>

<div id="lightbox" class="fixed inset-0 bg-black/80 hidden items-center justify-center z-50">
  <button id="closeLightbox" class="absolute top-5 right-5 bg-white/10 hover:bg-white/20 rounded-full p-2">‚úï</button>
  <img id="lightboxImg" src="" alt="" class="max-w-[90vw] max-h-[80vh] rounded-2xl shadow-2xl fade-in" />
</div>

<footer class="py-12 text-center text-white/60">
  <p>Built with love for <span class="fancy text-[var(--rose)]">Her</span> ‚Äî still shining brighter than ever ‚ú®</p>
</footer>

<audio id="music" loop>
  <source src="Ed_Sheeran_-_-_Thinking_Out_Loud.mp3" type="audio/mpeg" />
</audio>

<script>
// === Navbar toggle ===
function toggleMenu(){ document.getElementById("navLinks").classList.toggle("hidden"); }

// === Photo Gallery (localStorage) ===
const PHOTO_KEY = 'photos_v1';
const photoGrid = document.getElementById('photoGrid');
function getPhotos(){ try { return JSON.parse(localStorage.getItem(PHOTO_KEY)) || []; } catch { return []; } }
function savePhotos(arr){ localStorage.setItem(PHOTO_KEY, JSON.stringify(arr)); }
function photoCardTemplate(p){
  return `<figure class="group relative rounded-2xl overflow-hidden glass">
    <img src="${p.src}" alt="photo" class="w-full cursor-pointer" data-full="${p.src}" />
    <div class="photo-buttons">
      <button class="deleteBtn">‚úï</button>
      <a href="${p.src}" download class="downloadBtn">Download</a>
    </div>
  </figure>`;
}
function renderPhotos(){ photoGrid.innerHTML = getPhotos().map(photoCardTemplate).join(''); }
renderPhotos();

// === Admin Upload ===
const unlockBtn = document.getElementById('unlockBtn');
const adminPin = document.getElementById('adminPin');
const uploadWrap = document.getElementById('uploadWrap');
const photoInput = document.getElementById('photoInput');
const PIN_STORE = 'admin_pin_v1';
unlockBtn.addEventListener('click', ()=>{
  const savedPin = localStorage.getItem(PIN_STORE) || '1987';
  if(adminPin.value === savedPin){
    uploadWrap.classList.remove('hidden');
    alert('Upload unlocked.');
  } else {
    if(confirm('Wrong PIN. Set a new PIN?')){
      const newPin = prompt('Enter new PIN');
      if(newPin){ localStorage.setItem(PIN_STORE, newPin); alert('PIN set.'); }
    }
  }
});
photoInput?.addEventListener('change', async (e)=>{
  const files = Array.from(e.target.files||[]).slice(0,24);
  for(const f of files){
    if(!f.type.startsWith('image/')) continue;
    const data = await fileToDataURL(f);
    const arr = getPhotos();
    arr.push({ src: data, t: Date.now() });
    savePhotos(arr);
  }
  renderPhotos();
  boom();
  photoInput.value = '';
});

// === Lightbox & Delete ===
const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightboxImg');
const closeLightbox = document.getElementById('closeLightbox');
photoGrid.addEventListener('click', (e)=>{
  if(e.target.classList.contains('deleteBtn')){
    if(confirm('Delete this photo?')){
      const img = e.target.parentElement.parentElement.querySelector('img');
      const photos = getPhotos();
      const updated = photos.filter(p => p.src !== img.dataset.full && p.src !== img.src);
      savePhotos(updated);
      renderPhotos();
    }
    return;
  }
  const img = e.target.closest('img');
  if(!img) return;
  document.body.classList.add('lightbox-open');
  lightboxImg.src = img.dataset.full || img.src;
  lightbox.classList.remove('hidden');
});
closeLightbox.addEventListener('click', ()=>{ lightbox.classList.add('hidden'); document.body.classList.remove('lightbox-open'); });
lightbox.addEventListener('click', (e)=>{ if(e.target === lightbox) closeLightbox.click(); });
function fileToDataURL(file){ return new Promise((res, rej)=>{ const r = new FileReader(); r.onload = ()=>res(r.result); r.onerror = rej; r.readAsDataURL(file); }); }

// === Music ===
const music = document.getElementById('music');
const musicBtn = document.getElementById('musicBtn');
let playing = false;
musicBtn.addEventListener('click', async ()=>{
  try{
    if(!playing){ await music.play(); playing=true; musicBtn.textContent='‚ùö‚ùö Pause'; boom(); }
    else { music.pause(); playing=false; musicBtn.textContent='‚ô™ Music'; }
  }catch(err){ alert('Browser blocked autoplay. Tap again to play.'); }
});

// === Confetti ===
const c = document.getElementById('confetti');
const ctx = c.getContext('2d');
const DPR = Math.max(1, Math.min(2, window.devicePixelRatio||1));
let W,H,confettis=[];
function resize(){ W=c.width=innerWidth*DPR; H=c.height=innerHeight*DPR; }
addEventListener('resize',resize); resize();
function addConfetti(x,y,n=120){ for(let i=0;i<n;i++){ confettis.push({ x:x*DPR, y:y*DPR, vx:(Math.random()-0.5)*6*DPR, vy:(Math.random()-1.2)*7*DPR, s:Math.random()*6+3, a:Math.random()*Math.PI, life:120+Math.random()*60, hue:Math.random()*360 }); } }
function draw(){ ctx.clearRect(0,0,W,H); confettis.forEach(p=>{ p.vy+=0.15*DPR; p.x+=p.vx; p.y+=p.vy; p.a+=0.2; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.a); ctx.fillStyle=`hsl(${p.hue},90%,60%)`; ctx.fillRect(-p.s/2,-p.s/2,p.s,p.s*0.6); ctx.restore(); }); confettis = confettis.filter(p=>p.life>0 && p.y<H+50*DPR); requestAnimationFrame(draw); }
draw();
function boom(x=innerWidth/2,y=innerHeight/2){ addConfetti(x,y); }
document.addEventListener('click',(e)=>{ if(!e.target.closest('#musicBtn')) addConfetti(e.clientX,e.clientY,80); });

// === Sparkles ===
const sparkWrap = document.getElementById('sparkles');
let lastSpark=0;
document.addEventListener('mousemove',(e)=>{
  const now = performance.now();
  if(now-lastSpark<20) return;
  lastSpark=now;
  const sp = document.createElement('span');
  sp.className='sparkle';
  sp.style.left=(e.clientX-4)+'px';
  sp.style.top=(e.clientY-4)+'px';
  sp.style.background=`radial-gradient(circle, #fff, var(--gold))`;
  sparkWrap.appendChild(sp);
  setTimeout(()=>sp.remove(),500);
});

// === Balloons ===
const balloonColors=['#ff6b9a','#ffd166','#7bdff2','#caa7ff','#a9f0d1'];
function makeBalloon(){ const b=document.createElement('div'); b.className='balloon'; b.style.left=Math.random()*100+'vw'; const size=30+Math.random()*18; b.style.width=size+'px'; b.style.height=size*1.25+'px'; b.style.borderRadius='50% 50% 50% 50% / 60% 60% 40% 40%'; b.style.background=balloonColors[Math.floor(Math.random()*balloonColors.length)]; b.style.opacity=.8; document.getElementById('balloons').appendChild(b); setTimeout(()=>b.remove(),15000); }
setInterval(makeBalloon,1200);
for(let i=0;i<8;i++) makeBalloon();
</script>
</body>
</html>
